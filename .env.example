# =================================================================
# AGRI FARM - ENVIRONMENT CONFIGURATION TEMPLATE
# =================================================================
# Copy this file to .env and replace all placeholder values
# Follow the README.md for detailed instructions on getting each key
# =================================================================

# =================================================================
# APPLICATION CONFIGURATION (REQUIRED)
# =================================================================
NODE_ENV=development
PORT=3002
API_VERSION=v1
BASE_URL=http://localhost:3002
TIMEZONE=UTC
NEXT_PUBLIC_SECRET_KEY=your-random-secret-key

# =================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =================================================================
# MongoDB Atlas (Recommended - Free tier available)
DATABASE_OPTIONAL=true
DATABASE_URL=mongodb+srv://username:password@cluster.mongodb.net/agri_farm?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/agri_farm?retryWrites=true&w=majority
DATABASE_MAX_POOL_SIZE=10
DATABASE_MIN_POOL_SIZE=5

# Local MongoDB Alternative
# DATABASE_URL=mongodb://localhost:27017/agri_farm
# MONGODB_URI=mongodb://localhost:27017/agri_farm

# =================================================================
# REDIS CONFIGURATION (OPTIONAL)
# =================================================================
# Disable Redis for development (can use Upstash as alternative)
REDIS_DISABLED=true
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379


# =================================================================
# JWT CONFIGURATION (REQUIRED)
# =================================================================
# Generate these with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-very-long-key-agri-farm-2024
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production-very-long-key-agri-farm-2024
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# =================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =================================================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-this-in-production
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# =================================================================
# OTP CONFIGURATION
# =================================================================
OTP_LENGTH=6
OTP_EXPIRY_MINUTES=5
OTP_MAX_ATTEMPTS=3
OTP_RESEND_COOLDOWN_SECONDS=60
OTP_ENABLE_ALPHANUMERIC=false

# =================================================================
# RATE LIMITING
# =================================================================
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_MAX_ATTEMPTS=5
LOGIN_LOCKOUT_TIME=300000

# =================================================================
# CORS CONFIGURATION (REQUIRED)
# =================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# =================================================================
# FILE UPLOAD CONFIGURATION
# =================================================================
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb
MAX_FILE_SIZE=10485760
MAX_FILES_PER_UPLOAD=10

# =================================================================
# LOGGING CONFIGURATION
# =================================================================
LOG_LEVEL=debug
LOG_TO_FILE=false
LOG_TO_CONSOLE=true
LOG_DIRECTORY=logs
LOG_MAX_FILES=5
LOG_MAX_SIZE=5m

# =================================================================
# WEATHER API (REQUIRED FOR WEATHER FEATURES)
# =================================================================
# OpenWeatherMap API (Free: 1000 requests/day)
# Get from: https://openweathermap.org/api
WEATHER_API_KEY=your-openweathermap-api-key-here
WEATHER_API_PROVIDER=openweathermap
WEATHER_API_BASE_URL=https://api.openweathermap.org/data/2.5

# =================================================================
# MACHINE LEARNING / AI CONFIGURATION (REQUIRED FOR PLANT DIAGNOSIS)
# =================================================================

# Primary ML Service - Plant.id (Recommended for plant disease detection)
# Get from: https://plant.id/ - Free: 100 requests/month, $19/month for 1K
PRIMARY_ML_SERVICE=plant_id
PLANT_ID_API_KEY=your-plant-id-api-key-get-from-plant.id
PLANT_ID_API_URL=https://api.plant.id/v3
PLANT_ID_MODELS=crop_fast,plant_disease_fast,crop_health_assessment

# Alternative ML Services (Configure as fallback)
# Option 1: Google Cloud Vision API (Enterprise Grade)
# Get from: https://console.cloud.google.com/
GOOGLE_CLOUD_PROJECT_ID=your-google-cloud-project-id
GOOGLE_APPLICATION_CREDENTIALS=./config/google-vision-credentials.json

# Option 2: PlantNet API (Free tier available - 500 requests/day)
# Get from: https://my.plantnet.org/
PLANTNET_API_KEY=your-plantnet-api-key-get-from-plantnet.org
PLANTNET_API_URL=https://my-api.plantnet.org/v1
PLANTNET_PROJECT=weurope

# Option 3: Hugging Face Models (Free)
# Get from: https://huggingface.co/
HF_API_TOKEN=your-hugging-face-token
HF_PLANT_MODEL=microsoft/plant-disease-classifier
HF_CROP_MODEL=google/plant-disease-detection-v2

# Legacy ML Configuration (Keep for backward compatibility)
ML_API_ENDPOINT=http://localhost:5000
ML_API_KEY=your_ml_api_key
ML_API_URL=http://localhost:5000/predict

# ML Performance Configuration
ML_CONFIDENCE_THRESHOLD=0.7
ML_MAX_PREDICTIONS=5
ML_IMAGE_MAX_SIZE=2048
ML_SUPPORTED_FORMATS=jpg,jpeg,png,webp
ML_TIMEOUT_SECONDS=10
ML_CACHE_ENABLED=true
ML_CACHE_TTL=3600
ML_CACHE_PREFIX=plant_diagnosis_

# ML Model Selection Strategy
ML_PRIMARY_MODEL=plant_id
ML_FALLBACK_MODEL=plantnet
ML_VERIFICATION_MODEL=google_vision
ML_USE_ENSEMBLE=false
ML_ENSEMBLE_THRESHOLD=0.8

# =================================================================
# FILE STORAGE SERVICES (REQUIRED FOR IMAGE UPLOADS)
# =================================================================

# ImageKit Configuration (Recommended - Free tier available)
# Get from: https://imagekit.io/
NEXT_PUBLIC_IMAGEKIT_PUBLIC_KEY=your-imagekit-public-key
IMAGEKIT_PRIVATE_KEY=your-imagekit-private-key
NEXT_PUBLIC_IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/your-endpoint

# Alternative: Cloudinary
# Get from: https://cloudinary.com/
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_UPLOAD_PRESET=agri_farm_preset
CLOUDINARY_FOLDER=agri-farm

# =================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# =================================================================
# SendGrid (Recommended)
# Get from: https://sendgrid.com/
EMAIL_SERVICE=sendgrid
EMAIL_API_KEY=your-sendgrid-api-key-here
EMAIL_FROM=noreply@yourapp.com
EMAIL_FROM_NAME=Agri Farm

# Alternative: SMTP (Gmail/Outlook)
EMAIL_PROVIDER=nodemailer
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =================================================================
# SMS CONFIGURATION (OPTIONAL)
# =================================================================
# Twilio (Recommended)
# Get from: https://www.twilio.com/
SMS_SERVICE=twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid-here
TWILIO_AUTH_TOKEN=your-twilio-auth-token-here
TWILIO_PHONE_NUMBER=your-twilio-phone-number-here
TWILIO_VERIFY_SERVICE_SID=your-twilio-verify-service-sid-here

# Alternative SMS providers
SMS_PROVIDER=twilio
TWILIO_FROM_NUMBER=+1234567890

# =================================================================
# SOCIAL AUTHENTICATION (OPTIONAL)
# =================================================================
# Google OAuth
# Get from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id-here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret-here
GOOGLE_CALLBACK_URL=http://localhost:3002/api/v1/auth/google/callback
FRONTEND_URL=http://localhost:3000

# Facebook OAuth (Optional)
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret
FACEBOOK_CALLBACK_URL=http://localhost:3002/api/v1/auth/facebook/callback

# =================================================================
# FIREBASE CONFIGURATION (FOR PUSH NOTIFICATIONS)
# =================================================================
# Get from: https://console.firebase.google.com/
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Firebase Client Configuration
NEXT_PUBLIC_FIREBASE_API_KEY=your-firebase-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-firebase-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.firebasestorage.app
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
NEXT_PUBLIC_FIREBASE_APP_ID=1:your-sender-id:web:your-app-id
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=G-YOUR-MEASUREMENT-ID

# Legacy Firebase (Keep for compatibility)
FIREBASE_PRIVATE_KEY_ID=your_private_key_id
FIREBASE_CLIENT_ID=your_client_id
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token

# =================================================================
# MONITORING AND METRICS
# =================================================================
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# =================================================================
# INTERNATIONALIZATION
# =================================================================
I18N_AUTO_DETECT=true
I18N_DEFAULT_LANGUAGE=en
I18N_FALLBACK_LANGUAGE=en
I18N_LOG_MISSING=false

# Feature Flags
FEATURE_DIAGNOSTICS=true
FEATURE_EXPERT_CONSULTATION=true
FEATURE_WEATHER_ALERTS=true
FEATURE_MARKET_PRICES=true
FEATURE_COMMUNITY=true
FEATURE_MULTILANGUAGE=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_SOCIAL_LOGIN=true

# Business Limits
MAX_DIAGNOSIS_PER_DAY=10
MAX_CONSULTATIONS_PER_DAY=5
MAX_IMAGE_RESOLUTION=4096
MAX_IMAGES_PER_DIAGNOSIS=5

# Development/Testing
TEST_DATABASE_URL=mongodb://localhost:27017/agri_farm_test
TEST_EMAIL=test@example.com
TEST_PHONE=+1234567890